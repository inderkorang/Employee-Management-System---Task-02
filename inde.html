<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        // Application state
        let currentUser = null;
        let employees = [];
        let isAdmin = false;
        
        // Mock database for demonstration
        const users = [
            { id: 1, username: 'admin', password: 'admin123', role: 'admin' },
            { id: 2, username: 'manager', password: 'manager123', role: 'manager' }
        ];
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            showLoginForm();
            // Pre-populate with some sample employees
            employees = [
                { 
                    id: 1, 
                    name: 'John Doe', 
                    email: 'john@example.com', 
                    position: 'Software Engineer',
                    department: 'IT',
                    salary: 85000,
                    hireDate: '2020-05-15'
                },
                { 
                    id: 2, 
                    name: 'Jane Smith', 
                    email: 'jane@example.com', 
                    position: 'HR Manager',
                    department: 'Human Resources',
                    salary: 75000,
                    hireDate: '2019-08-22'
                }
            ];
        });
        
        // Authentication functions
        function login(username, password) {
            const user = users.find(u => u.username === username && u.password === password);
            if (user) {
                currentUser = user;
                isAdmin = user.role === 'admin';
                showEmployeeDashboard();
                return true;
            }
            return false;
        }
        
        // UI Navigation functions
        function showLoginForm() {
            document.getElementById('app').innerHTML = `
                <div class="min-h-screen bg-gray-100 flex items-center justify-center">
                    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
                        <div class="text-center mb-8">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/6e8b292e-fbd1-4d6f-a06f-479c5c7db075.png" alt="Company logo with modern minimalist design in blue tones" class="mx-auto mb-4">
                            <h1 class="text-2xl font-bold text-gray-800">Employee Management System</h1>
                            <p class="text-gray-600">Please sign in to continue</p>
                        </div>
                        
                        <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-4">
                            <div>
                                <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                                <input type="text" id="username" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                                <input type="password" id="password" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200">Sign In</button>
                        </form>
                        
                        <div class="mt-4 text-center">
                            <p class="text-sm text-gray-600">Don't have an account? <a href="#" onclick="showSignupForm()" class="text-blue-600 hover:underline">Sign up</a></p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function showSignupForm() {
            document.getElementById('app').innerHTML = `
                <div class="min-h-screen bg-gray-100 flex items-center justify-center">
                    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
                        <div class="text-center mb-8">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/434a92e8-5e02-44f8-9641-fa937e0d91fa.png" alt="Company logo with modern minimalist design in blue tones" class="mx-auto mb-4">
                            <h1 class="text-2xl font-bold text-gray-800">Create Account</h1>
                            <p class="text-gray-600">Register as a new user</p>
                        </div>
                        
                        <form id="signupForm" onsubmit="handleSignup(event)" class="space-y-4">
                            <div>
                                <label for="newUsername" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                                <input type="text" id="newUsername" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="newPassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                                <input type="password" id="newPassword" required minlength="6" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                                <input type="password" id="confirmPassword" required minlength="6" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200">Register</button>
                        </form>
                        
                        <div class="mt-4 text-center">
                            <p class="text-sm text-gray-600">Already have an account? <a href="#" onclick="showLoginForm()" class="text-blue-600 hover:underline">Sign in</a></p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function showEmployeeDashboard() {
            renderEmployeeTable();
            
            document.getElementById('app').innerHTML = `
                <div class="bg-gray-100 min-h-screen">
                    <!-- Header -->
                    <header class="bg-white shadow-sm">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
                            <div class="flex items-center">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1b81c397-18df-4f60-9ded-e1d45ef119ca.png" alt="Small company logo icon" class="mr-2">
                                <h1 class="text-xl font-semibold text-gray-900">Employee Management</h1>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span class="text-sm text-gray-600">Welcome, ${currentUser.username}</span>
                                <button onclick="logout()" class="text-sm text-red-600 hover:text-red-800">Logout</button>
                            </div>
                        </div>
                    </header>
                    
                    <!-- Main Content -->
                    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-800">Employees</h2>
                            ${isAdmin ? `<button onclick="showAddEmployeeForm()" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-200">
                                <i class="fas fa-plus mr-2"></i>Add Employee
                            </button>` : ''}
                        </div>
                        
                        <div id="employeeTableContainer"></div>
                    </main>
                </div>
            `;
            
            document.getElementById('employeeTableContainer').innerHTML = renderEmployeeTable();
        }
        
        function renderEmployeeTable() {
            return `
                <div class="bg-white shadow-sm rounded-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Department</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Salary</th>
                                    ${isAdmin ? '<th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>' : ''}
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                ${employees.map(employee => `
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center">
                                                    <span class="text-gray-600 font-medium">${employee.name.charAt(0)}</span>
                                                </div>
                                                <div class="ml-4">
                                                    <div class="text-sm font-medium text-gray-900">${employee.name}</div>
                                                    <div class="text-sm text-gray-500">${employee.email}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-gray-900">${employee.position}</div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">${employee.department}</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            $${employee.salary.toLocaleString()}
                                        </td>
                                        ${isAdmin ? `
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <button onclick="showEditEmployeeForm(${employee.id})" class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                                            <button onclick="deleteEmployee(${employee.id})" class="text-red-600 hover:text-red-900">Delete</button>
                                        </td>` : ''}
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
        }
        
        function showAddEmployeeForm() {
            document.getElementById('employeeTableContainer').innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Add New Employee</h3>
                    <form id="addEmployeeForm" onsubmit="handleAddEmployee(event)" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                <input type="text" id="name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" id="email" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="position" class="block text-sm font-medium text-gray-700 mb-1">Position</label>
                                <input type="text" id="position" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="department" class="block text-sm font-medium text-gray-700 mb-1">Department</label>
                                <select id="department" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Select Department</option>
                                    <option value="IT">IT</option>
                                    <option value="Human Resources">Human Resources</option>
                                    <option value="Finance">Finance</option>
                                    <option value="Marketing">Marketing</option>
                                    <option value="Operations">Operations</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="salary" class="block text-sm font-medium text-gray-700 mb-1">Salary</label>
                                <input type="number" id="salary" required min="0" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="hireDate" class="block text-sm font-medium text-gray-700 mb-1">Hire Date</label>
                                <input type="date" id="hireDate" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>
                        
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" onclick="cancelAddEmployee()" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50">Cancel</button>
                            <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">Save</button>
                        </div>
                    </form>
                </div>
            `;
        }
        
        function showEditEmployeeForm(id) {
            const employee = employees.find(e => e.id === id);
            if (!employee) return;
            
            document.getElementById('employeeTableContainer').innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Edit Employee</h3>
                    <form id="editEmployeeForm" onsubmit="handleEditEmployee(event, ${id})" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="editName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                <input type="text" id="editName" value="${employee.name}" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="editEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" id="editEmail" value="${employee.email}" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="editPosition" class="block text-sm font-medium text-gray-700 mb-1">Position</label>
                                <input type="text" id="editPosition" value="${employee.position}" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="editDepartment" class="block text-sm font-medium text-gray-700 mb-1">Department</label>
                                <select id="editDepartment" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="IT" ${employee.department === 'IT' ? 'selected' : ''}>IT</option>
                                    <option value="Human Resources" ${employee.department === 'Human Resources' ? 'selected' : ''}>Human Resources</option>
                                    <option value="Finance" ${employee.department === 'Finance' ? 'selected' : ''}>Finance</option>
                                    <option value="Marketing" ${employee.department === 'Marketing' ? 'selected' : ''}>Marketing</option>
                                    <option value="Operations" ${employee.department === 'Operations' ? 'selected' : ''}>Operations</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="editSalary" class="block text-sm font-medium text-gray-700 mb-1">Salary</label>
                                <input type="number" id="editSalary" value="${employee.salary}" required min="0" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            
                            <div>
                                <label for="editHireDate" class="block text-sm font-medium text-gray-700 mb-1">Hire Date</label>
                                <input type="date" id="editHireDate" value="${employee.hireDate}" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>
                        
                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" onclick="cancelEditEmployee()" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50">Cancel</button>
                            <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">Update</button>
                        </div>
                    </form>
                </div>
            `;
        }
        
        // Event handlers
        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (login(username, password)) {
                showNotification('Login successful!', 'success');
            } else {
                showNotification('Invalid username or password', 'error');
            }
        }
        
        function handleSignup(event) {
            event.preventDefault();
            const username = document.getElementById('newUsername').value;
            const password = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            if (users.some(u => u.username === username)) {
                showNotification('Username already exists', 'error');
                return;
            }
            
            // In a real app, you would hash the password before storing
            const newUser = {
                id: users.length + 1,
                username,
                password,
                role: 'manager' // Default role for new users
            };
            
            users.push(newUser);
            showNotification('Account created successfully! Please login.', 'success');
            showLoginForm();
        }
        
        function handleAddEmployee(event) {
            event.preventDefault();
            
            const newEmployee = {
                id: employees.length > 0 ? Math.max(...employees.map(e => e.id)) + 1 : 1,
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                position: document.getElementById('position').value,
                department: document.getElementById('department').value,
                salary: parseFloat(document.getElementById('salary').value),
                hireDate: document.getElementById('hireDate').value
            };
            
            employees.push(newEmployee);
            showNotification('Employee added successfully!', 'success');
            showEmployeeDashboard();
        }
        
        function handleEditEmployee(event, id) {
            event.preventDefault();
            
            const employeeIndex = employees.findIndex(e => e.id === id);
            if (employeeIndex === -1) return;
            
            employees[employeeIndex] = {
                ...employees[employeeIndex],
                name: document.getElementById('editName').value,
                email: document.getElementById('editEmail').value,
                position: document.getElementById('editPosition').value,
                department: document.getElementById('editDepartment').value,
                salary: parseFloat(document.getElementById('editSalary').value),
                hireDate: document.getElementById('editHireDate').value
            };
            
            showNotification('Employee updated successfully!', 'success');
            showEmployeeDashboard();
        }
        
        // Helper functions
        function deleteEmployee(id) {
            if (confirm('Are you sure you want to delete this employee?')) {
                employees = employees.filter(e => e.id !== id);
                showNotification('Employee deleted successfully!', 'success');
                showEmployeeDashboard();
            }
        }
        
        function cancelAddEmployee() {
            showEmployeeDashboard();
        }
        
        function cancelEditEmployee() {
            showEmployeeDashboard();
        }
        
        function logout() {
            currentUser = null;
            isAdmin = false;
            showLoginForm();
            showNotification('Logged out successfully', 'success');
        }
        
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-md shadow-md text-white animate-slide-in ${type === 'success' ? 'bg-green-500' : 'bg-red-500'}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('animate-slide-in');
                notification.classList.add('animate-fade-out');
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }
        
        // Add animations to style
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slide-in {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes fade-out {
                from { opacity: 1; }
                to { opacity: 0; }
            }
            
            .animate-slide-in {
                animation: slide-in 0.3s ease-out forwards;
            }
            
            .animate-fade-out {
                animation: fade-out 0.5s ease-out forwards;
            }
            
            /* Responsive table */
            @media (max-width: 640px) {
                table {
                    display: block;
                    width: 100%;
                    overflow-x: auto;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</head>
<body>
    <div id="app"></div>
</body>
</html>

